!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.fn.scrub=function(n){function o(){p=e.extend({},e.fn.scrub.defaults,n),g=d.get(0),u=p.container instanceof e?p.container:e(p.container),f=u.outerHeight(),a=p.contentBody instanceof e?p.contentBody:e(p.contentBody),s=a.outerHeight(),g.addEventListener("loadedmetadata",function(){m=g.duration,u.scroll(window.requestAnimationFrame?function(){requestAnimationFrame(c)}:c),d.trigger("loaded")}),p.preload?i():g.src=r(),u.resize(function(){f=u.outerHeight()}),a.resize(function(){s=a.outerHeight()})}function t(e){return l[e.split(".").pop()]}function r(){var e,n,o,r
for(r=p.urls,n=r.length,e=0;n>e;e+=1)if(o=r[e],g.canPlayType(t(o)))return o
throw Error("Unable to play any of the urls provided")}function i(){var e,n=new XMLHttpRequest
n.onload=function(){g.src=URL.createObjectURL(n.response)},e=r(),n.open("GET",e),n.responseType="blob",n.send()}function c(){var e,n
e=u.scrollTop()/(s-f),n=m*e,g.currentTime=n}var u,a,d,f,s,l,p,g,m
l={mov:"video/mp4",mp4:"video/mp4",ogg:"video/ogg",ogv:"video/ogg",webm:"video/webm"},d=this,o()},e.fn.scrub.defaults={preload:!0,container:e(window),contentBody:e(document),urls:[]}})
