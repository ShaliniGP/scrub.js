!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.fn.scrubify=function(e){function o(){p=n.extend({},n.fn.scrubify.defaults,e),g=u.get(0),a=p.container instanceof n?p.container:n(p.container),f=a.height(),d=p.contentBody instanceof n?p.contentBody:n(p.contentBody),s=d.height(),g.addEventListener("loadedmetadata",function(){y=g.duration,a.scroll(window.requestAnimationFrame?function(){requestAnimationFrame(c)}:c),u.trigger("loaded")}),p.preload?r():g.src=i(),a.resize(function(){f=a.height()}),d.resize(function(){s=d.height()})}function t(n){return l[n.split(".").pop()]}function i(){var n,e,o,i
for(i=p.urls,e=i.length,n=0;e>n;n+=1)if(o=i[n],g.canPlayType(t(o)))return o
throw Error("Unable to play any of the urls provided")}function r(){var n,e=new XMLHttpRequest
e.onload=function(){g.src=URL.createObjectURL(e.response)},n=i(),e.open("GET",n),e.responseType="blob",e.send()}function c(){var n,e
n=a.scrollTop()/(s-f),e=y*n,g.currentTime=e}var a,d,u,f,s,l,p,g,y
l={mov:"video/mp4",mp4:"video/mp4",ogg:"video/ogg",ogv:"video/ogg",webm:"video/webm"},u=this,o()},n.fn.scrubify.defaults={preload:!0,container:n(window),contentBody:n(document),urls:[]}})
